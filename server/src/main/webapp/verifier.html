<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="origin-trial" content="AqrF+vKVQZS3y5OJ3K2wkWZ4yEVxroNpC0oQR3kFeRmnvjBw+T9NPftQV9reLYszk8kNYyF1Zw+u3UZ9PMuxFQIAAACBeyJvcmlnaW4iOiJodHRwczovL2RpZ2l0YWwtY3JlZGVudGlhbHMuZGV2OjQ0MyIsImZlYXR1cmUiOiJXZWJJZGVudGl0eURpZ2l0YWxDcmVkZW50aWFscyIsImV4cGlyeSI6MTc0NDc2MTU5OSwiaXNTdWJkb21haW4iOnRydWV9">
    <title>OWF Digital Document Online Verifier</title>
    <link rel="icon" type="image/x-icon" href="https://fonts.gstatic.com/s/i/short-term/release/googlesymbols/fingerprint/default/24px.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="verifier.js"></script>
</head>
<body onload="onLoad()">
<div class="col-lg-8 mx-auto p-4 py-md-5">
    <header class="d-flex align-items-center pb-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center text-body-emphasis text-decoration-none">
            <span class="fs-4">OWF Digital Document Online Verifier</span>
        </a>
    </header>

    <main>
        <h1 class="text-body-emphasis">Request Digital Documents</h1>
        <p class="fs-5 col-md-8">Request a digital document such as a Mobile Driving License (mDL) or EU PID</p>

        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <!-- Dynamically populated, see addTab() -->
        </ul>
        <div class="tab-content" id="pills-tabContent">
            <!-- Dynamically populated, see addTab() -->
        </div>

        Selected protocol for retrieval:

        <div class="d-flex gap-4 flex-wrap">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle btn-lg overflow-visible" type="button"
                        data-bs-toggle="dropdown" aria-expanded="false" id="protocolDropdown">
                    W3C Digital Credentials API (OpenID4VP)
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item mdoc-only" value="w3c_dc_preview" href="#">
                        W3C Digital Credentials API (Preview)
                    </a></li>
                    <li><a class="dropdown-item mdoc-only" value="w3c_dc_arf" href="#">
                        W3C Digital Credentials API (Austroads Request Forwarding)
                    </a></li>
                    <li><a class="dropdown-item mdoc-only" value="w3c_dc_mdoc_api" href="#">
                        W3C Digital Credentials API (18013-7 Annex C)
                    </a></li>
                    <li><a class="dropdown-item" value="w3c_dc_openid4vp" href="#">
                        W3C Digital Credentials API (OpenID4VP)
                    </a></li>
                    <li><a class="dropdown-item" value="openid4vp_plain" href="#">
                        OpenID4VP (openid4vp:// URI scheme)
                    </a></li>
                    <li><a class="dropdown-item" value="openid4vp_eudi" href="#">
                        OpenID4VP (eudi-openid4vp:// URI scheme)
                    </a></li>
                    <li><a class="dropdown-item" value="openid4vp_mdoc" href="#">
                        OpenID4VP (mdoc-openid4vp:// URI scheme)
                    </a></li>
                    <li><button class="dropdown-item" value="openid4vp_custom" href="#">
                        OpenID4VP (Custom URI scheme)
                    </button></li>
                </ul>
            </div>
        </div>

        <div id="scheme-form" class="input-group mb-3 w-25" hidden style="flex-basis: 40%;">
            <input class="form-control text-end" type="text" placeholder="custom-uri-scheme" id="scheme-input">
        </div>
        <div id="openid4vp-sign-request" class="mb-3 w-25" style="flex-basis: 40%;">
            <input type="checkbox" name="openid4vp-sign-request-input" id="openid4vp-sign-request-input" checked>
            <label for="openid4vp-sign-request-input">Sign Request</label>
        </div>
        <div id="openid4vp-encrypt-response" class="mb-3 w-25" style="flex-basis: 40%;">
            <input type="checkbox" name="openid4vp-encrypt-response-input" id="openid4vp-encrypt-response-input" checked>
            <label for="openid4vp-encrypt-response-input">Encrypt Response</label>
        </div>

    </main>
    <footer class="pt-5 my-5 text-body-secondary border-top">
        This verifier is part of the <a href="https://github.com/openwallet-foundation-labs/identity-credential">OWF Identity Credential</a> project
        and is considered experimental software. Use at your own risk. <a href="verifier/readerRootCert">Reader Root Certificate</a>.
    </footer>
</div>

<!-- DC Result Modal -->
<div class="modal fade" id="dcResultModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">User Data</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <ol class="list-group">

                </ol>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

</body>
</html>